<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eCommerce</title>
    <link rel="stylesheet" href="./styles.css">
</head>

<body>
    <nav class="navBar" id="navBar">
        <a href="./">
            <img src="./home.png" alt="Logo">
        </a>

        <!--(Search Bar)-->

        <a href="./LogIn.html" id="LogInButton">
            <div>
                Log In
            </div>
        </a>

    </nav>
    <div class="catalog">

    </div>
    <script id="jsonDB" type="application/json">
        {
            "database":[
                {"productImageURL":"./sneaker.jpg",
                "productTitle":"Shiny Sneaker",
                "productPrice": "$3.00",
                "Inventory": 100,
                "productDescription": "White Sneaker that shines"},
                {"productImageURL":"./sneaker.jpg",
                "productTitle":"More Shiny Sneaker",
                "productPrice": "$30.00",
                "Inventory": 100,
                "productDescription": "White Sneaker that shines more"},
                {"productImageURL":"./sneaker.jpg",
                "productTitle":"Most Shiny Sneaker",
                "productPrice": "$300.00",
                "Inventory": 1,
                "productDescription": "Its very shiny"}
            ]
        }
    </script>
    <script>
        const databaseJson = document.getElementById("jsonDB")
        const databaseParse = JSON.parse(databaseJson.textContent)
        const database = databaseParse.database
        for(const item of database){
            console.log(item)
        }

        const LogIn = document.getElementById("LogInButton")
        const navBar = document.getElementById("navBar")
        const userInfo = sessionStorage.getItem("user")

        if (userInfo != null) {
            LogIn.remove()

            const dropdownA = document.createElement("a")
            const dropdownButton = document.createElement("div")
            const division = document.createElement("div")

            /*dropdownA.href = "./client.html"
            dropdownA.innerHTML = "Account"
            dropdownA.className = "DropDownLogInContent"*/

            dropdownButton.addEventListener("click", () => {

            })
            dropdownButton.innerHTML = "Log Out"
            dropdownButton.className = "DropDownLogInContent"
            dropdownButton.id = "DropDownLogInButton"
            dropdownButton.addEventListener("click", () => {
                sessionStorage.removeItem("user")
                window.location.reload()
            })

            division.innerHTML = userInfo
            division.className = "DropDownLogInMenu"
            /* division.appendChild(dropdownA)    */
            division.appendChild(dropdownButton)

            navBar.appendChild(division)
        }
    </script>
</body>

</html>